(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var c=t(16),r=t.n(c),a=t(4),s=t(2),o=t(3),u=t.n(o),i="api/persons",l=function(){return u.a.get(i)},j=function(e){return u.a.post(i,e)},d=function(e){return u.a.delete(i+"/"+e)},b=t(0),h=function(e){var n=e.newPeople,t=e.setMessage;return n.map((function(e){return Object(b.jsxs)("li",{children:[e.name," ",e.number," ",Object(b.jsx)("button",{onClick:function(){return n=e.id,c=e.name,void(window.confirm("Do you really want to delete ".concat(c))&&d(n).then((function(e){t("".concat(c," was successfully deleted")),setTimeout((function(){return t(null)}),5e3)})));var n,c},children:" Delete "})]},e.id)}))},f=function(e){var n=e.search,t=e.persons,c=e.setMessage,r=[],a=new RegExp(n,"gi");return r=0===n.length?t:t.filter((function(e){return null!==e.name.match(a)})),Object(b.jsx)(h,{newPeople:r,setMessage:c})},O=function(e){var n=e.addPerson,t=e.newName,c=e.newNumber,r=e.onChangeHandler,a=e.onNumberChangeHandler;return Object(b.jsxs)("form",{onSubmit:n,children:[Object(b.jsxs)("div",{children:["name: ",Object(b.jsx)("input",{value:t,onChange:r})]}),Object(b.jsxs)("div",{children:["number: ",Object(b.jsx)("input",{value:c,onChange:a})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",children:"add"})})]})},m=function(e){var n=e.message;return null===n?null:Object(b.jsx)("div",{className:"notification",children:Object(b.jsxs)("h1",{children:[" ",n]})})},v=(t(40),function(){var e=Object(s.useState)([]),n=Object(a.a)(e,2),t=n[0],c=n[1],r=Object(s.useState)(""),o=Object(a.a)(r,2),u=o[0],i=o[1],d=Object(s.useState)(""),h=Object(a.a)(d,2),v=h[0],x=h[1],g=Object(s.useState)(""),p=Object(a.a)(g,2),w=p[0],C=p[1],N=Object(s.useState)(null),k=Object(a.a)(N,2),y=k[0],S=k[1];Object(s.useEffect)((function(){l().then((function(e){c(e.data)}))}),[]);return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{children:"Phonebook"}),Object(b.jsx)(m,{message:y}),Object(b.jsxs)("div",{children:["filter shown with: ",Object(b.jsx)("input",{value:w,onChange:function(e){var n=e.target.value;C(n),console.log(w)}})]}),Object(b.jsx)("h2",{children:"Add a new"}),Object(b.jsx)(O,{addPerson:function(e){function n(e){return t.some((function(n){return n.name===e}))}if(e.preventDefault(),!1===n(u)){var r={name:u,number:v};j(r).then((function(e){return c(t.concat(e))})).then((function(e){S(" ".concat(r.name," was successfully added to the server")),setTimeout((function(){S(null)}),5e3)})),u="",v=""}else!0===n(u)&&alert(u+" is already added to phonebook")},newName:u,newNumber:v,onChangeHandler:function(e){var n=e.target.value;i(n)},onNumberChangeHandler:function(e){var n=e.target.value;x(n)}}),Object(b.jsx)("button",{onClick:function(){window.location.reload()},children:"Refresh"}),Object(b.jsx)("h2",{children:"Numbers"}),Object(b.jsx)("div",{children:Object(b.jsx)("ol",{children:Object(b.jsx)(f,{search:w,persons:t,setMessage:S})})})]})});r.a.render(Object(b.jsx)(v,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.9dd2aa76.chunk.js.map